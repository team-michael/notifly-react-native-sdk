<!-- repo: team-michael/notifly-react-native-sdk -->
<!-- ref: main -->
<!-- commit: 9a45a2656b34bfd407e8b476e9b99af184302b16 -->
<!-- generated_at: 2025-11-14T03:59:19Z -->
# Platform: React Native

## android/src/main/java/tech/notifly/rn
- [Notiflysdkpackage](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/android/src/main/java/tech/notifly/rn/NotiflySdkPackage.kt): Registers NotiflySdkModule via TurboReactPackage.getModule and exposes a ReactModuleInfoProvider (hasConstants=true; turbo flag from BuildConfig.
- [Notiflysdkutils](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/android/src/main/java/tech/notifly/rn/NotiflySdkUtils.kt): Converts nested HashMaps and IPushNotification/INotificationClickEvent into React Native WritableMaps/HashMaps (maps fields like title/body/importance->ordinal, customData, rawPayload); may throw JSONException.
- [Notiflysdkmodule](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/android/src/main/java/tech/notifly/rn/NotiflySdkModule.kt): React Native bridge to Notifly Android SDK exposing initialize, identity, event-tracking, config APIs and addNotificationClickListener that emits 'Notifly#NotificationClicked' to JS; uses coroutines, Notifly control token.

## android/src/newarch
- [Notiflysdkspec](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/android/src/newarch/NotiflySdkSpec.kt): Abstract NotiflySdkSpec class in RN new-architecture extending generated NativeNotiflySdkSpec, providing an internal ReactApplicationContext constructor as the base for Android native module implementations (no methods).

## android/src/oldarch
- [Notiflysdkspec](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/android/src/oldarch/NotiflySdkSpec.kt): Abstract ReactContextBaseJavaModule defining Notifly RN bridge APIs (initialize, setUserId/getNotiflyUserId, setUserProperties, setEmail/Phone/Timezone, trackEvent, setLogLevel, disableInAppMessage, addNotificationClickListener) using Promise and ReadableMap/Array.

## example
- [React Native.config](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/react-native.config.js): React Native CLI config that maps the example app's dependency to the SDK package (name from..
- [Jest.config](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/jest.config.js): Jest configuration for the example app that sets the 'react-native' preset to enable React Native-specific transforms, mocks, and test environment for running unit tests.
- [Index](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/index.js): Bootstraps example app: imports env vars and notifly-sdk, initializes the SDK (project credentials, Android logLevel), sets userId, logs getNotiflyUserId(), registers notification click listener and React Native root component.
- [Metro.config](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/metro.config.js): Metro bundler config that merges React Native defaults, sets the example as projectRoot, watches the package root, blacklists root peer-dependency paths and aliases them to example/node_modules using package.json peerDependencies.
- [Babel.config](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/babel.config.js): Example app Babel config: uses React Native preset, aliases package.json.

## example/android/app/src/debug/java/com/notiflysdkexample
- [Reactnativeflipper](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/android/app/src/debug/java/com/notiflysdkexample/ReactNativeFlipper.java): Configures and starts Android Flipper with Inspector, Databases, SharedPreferences, CrashReporter, Network (FlipperOkhttpInterceptor via NetworkingModule), delaying Fresco until ReactContext initialized; entry point: initializeFlipper(Context, ReactInstanceManager)

## example/android/app/src/main/java/com/notiflysdkexample
- [Mainapplication](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/android/app/src/main/java/com/notiflysdkexample/MainApplication.java): Android Application that configures DefaultReactNativeHost and PackageList, initializes SoLoader with OpenSourceMergedSoMapping, honors BuildConfig Hermes/New-architecture flags, conditionally loads native entry point, and exposes getReactNativeHost/getReactHost.
- [Mainactivity](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/android/app/src/main/java/com/notiflysdkexample/MainActivity.java): Android ReactActivity for the example app that registers the "NotiflySdkExample" root component and constructs a DefaultReactActivityDelegate enabling Fabric/Concurrent React per DefaultNewArchitectureEntryPoint flags.

## example/android/app/src/release/java/com/notiflysdkexample
- [Reactnativeflipper](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/android/app/src/release/java/com/notiflysdkexample/ReactNativeFlipper.java): Release-flavor stub providing ReactNativeFlipper.initializeFlipper(Context, ReactInstanceManager) that intentionally does nothing to prevent Flipper initialization; depends on android.

## example/ios
- [File](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/ios/File.swift): Placeholder Swift source in the iOS example project; contains only "import Foundation", no runtime side-effects or public APIs, included to satisfy Xcode/project Swift file requirements.

## example/ios/NotiflyNotificationExtension
- [Notificationservice](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/ios/NotiflyNotificationExtension/NotificationService.swift): NotificationService subclass of NotiflyNotificationServiceExtension that initializes the Notifly push-extension SDK and calls register(projectId:username:) to configure project credentials on extension startup.

## example/ios/NotiflySdkExample
- [Main](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/ios/NotiflySdkExample/main.m): iOS app entry point that initializes an autorelease pool and calls UIApplicationMain with AppDelegate to boot the example Notifly React Native SDK app (imports UIKit/AppDelegate).
- [Appdelegate](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/ios/NotiflySdkExample/AppDelegate.mm): iOS AppDelegate that initializes Firebase/React, registers UNUserNotificationCenter, forwards remote-notification and registration events to Notifly, handles deep links via RCTLinkingManager, and supplies bundle URL/concurrentRoot flag.

## example/ios/NotiflySdkExampleTests
- [Notiflysdkexampletests](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/ios/NotiflySdkExampleTests/NotiflySdkExampleTests.m): Objective-C XCTest that polls the example app's root view (up to 600s) for a subview with accessibilityLabel "Welcome to React", detecting React RedBox errors via RCTSetLogFunction in testRendersWelcomeScreen.

## example/src
- [Webviewapp](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/src/WebviewApp.js): React Native component WebviewApp (export default) that embeds react-native-webview to display a fixed URL, calls notifly.disableInAppMessage() on mount, and uses setAppMode('MAIN') on button press.
- [Loginpage](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/src/LoginPage.js): Example LoginComponent (default export) retrieves FCM token via @react-native-firebase/messaging, calls notifly.trackEvent('loginpage_visit'), toggles app mode and navigates using navigation/setAppMode props.
- [Appwrapper](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/src/AppWrapper.js): Default-exported AppWrapper component toggles rendering between App and WebviewApp based on local appMode state (initial 'MAIN'), passing setAppMode prop to both; depends on React,./App,.
- [Homepage](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/src/HomePage.js): HomePage example React Native screen exporting a default component that renders buttons which await notifly.trackEvent (logs to console) and call navigation.
- [Eventpage](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/src/EventPage.js): Example React Native screen component exporting EventPage that gathers eventName, eventParams and segmentationEventParamKeys, lets users add key/value params, and calls notifly.trackEvent(eventName,eventParams,segmentationEventParamKeys) on submit.
- [App](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/src/App.js): Example App component configures a React Navigation stack with linking (prefix pushnotiflyrn2://), requests Firebase Messaging permission on mount, and exports default App({setAppMode}) registering Login/Home/MyPage/EventPage screens.
- [Mypage](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/example/src/MyPage.js): Default-exported MyPage React Native screen uses notifly-sdk to asynchronously set userId, email, phone, timezone and properties (setUserId, setEmail, setPhoneNumber, setTimezone, setUserProperties), logging actions and navigating to Home.

## ios
- [Notiflysdk](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/ios/NotiflySdk.swift): Swift React-Native bridge exporting Objective-C methods that wrap the notifly_sdk (initialize—including sdkType/version—user identity/properties parsing, tracking events with JSON/segmentation, FCM token, disable in-app messages) and return promises.
- [Notiflysdk](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/ios/NotiflySdk.m): Objective-C React Native bridge (RCT_EXTERN_MODULE) exposing Promise-based NotiflyReactNativeSdk methods—initialize, user/profile setters, trackEvent, getNotiflyUserId, disableInAppMessage, registerFCMToken; depends on React/RCTBridgeModule; main-thread not required.

## src
- [Index](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/src/index.tsx): Bridges to native Notifly modules (TurboModule/NativeModules), exposes JS API (initialize, setUserId, setUserProperties, trackEvent, getNotiflyUserId, setLogLevel, disableInAppMessage, addNotificationClickListener), handles Android EventReceiver and iOS JSON serialization.
- [Constants](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/src/constants.ts): Defines EventNames enum exporting NOTIFICATION_CLICKED ('Notifly#NotificationClicked') used as the standardized event identifier for notification click events across emitters, listeners, and native bridges.
- [Nativenotiflyreactnativesdk](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/src/NativeNotiflyReactNativeSdk.ts): Exports the TurboModule bridge 'NotiflyReactNativeSdk' (via TurboModuleRegistry), providing Promise-based APIs for initialization, user updates, event tracking, log level, in-app control, and listener registration; depends on react-native and local types.

## src/__tests__
- [Index.test](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/src/__tests__/index.test.tsx): Placeholder Jest test (src/__tests__/index.test.

## src/events
- [Eventreceiver](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/src/events/EventReceiver.ts): Wraps a NativeEventEmitter for the nativeNotiflySdk, exposing addEventListener/removeEventListener, batching JS listeners per event, parsing NOTIFICATION_CLICKED.rawPayload JSON, and retaining native subscription on first add.

## src/types
- [Notification](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/src/types/notification.ts): Defines TypeScript interfaces and an enum for notification payloads and click events (OSNotification, OSNotificationClickEvent), importance levels (OSNotificationImportance), and the NotificationClickListener callback used by native bridges.
- [Index](https://raw.githubusercontent.com/team-michael/notifly-react-native-sdk/main/src/types/index.ts): Re-exports notification types and declares InitializeParams (projectId, username, password) plus generic UserProperties and EventProperties maps used to type SDK initialization and event/user payloads.
